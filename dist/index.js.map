{"version":3,"sources":["index.js"],"names":["Bundler","require","express","http","open","path","app","bundlePath","join","__dirname","use","req","res","next","setHeader","port","bundler","middleware","server","createServer","listen","on","err","console","error","info","process","env","NODE_ENV"],"mappings":";AAAA,MAAMA,EAAUC,QAAQ,kBAClBC,EAAUD,QAAQ,WAClBE,EAAOF,QAAQ,QACfG,EAAOH,QAAQ,QACfI,EAAOJ,QAAQ,QAEfK,EAAMJ,IAENK,EAAaF,EAAKG,KAAKC,UAAW,qBAIxCH,EAAII,IAAI,CAACC,EAAKC,EAAKC,KACfD,EAAIE,UAAU,+BAAgC,gBAC9CF,EAAIE,UAAU,6BAA8B,eAC5CD,MAKJ,MAAME,EAAO,KACPC,EAAU,IAAIhB,EAAQO,GAE5BD,EAAII,IAAIM,EAAQC,cAGhB,MAAMC,EAASf,EAAKgB,aAAab,GACjCY,EAAOE,OAPM,MASbF,EAAOG,GAAG,QAAUC,GAAQC,QAAQC,MAAMF,IAC1CJ,EAAOG,GAAG,YAAa,KACnBE,QAAQE,KAAK,qBACbF,QAAQE,oBAAoBC,QAAQC,IAAIC,aACxCL,QAAQE,KAAM,iBACdrB,EAAM","file":"index.js","sourceRoot":"..\\src","sourcesContent":["const Bundler = require('parcel-bundler');\r\nconst express = require('express');\r\nconst http = require('http');\r\nconst open = require('open');\r\nconst path = require('path');\r\n\r\nconst app = express();\r\n\r\nconst bundlePath = path.join(__dirname, 'public/index.html');\r\n// const bundlePath = process.argv[2];\r\n// const port = process.argv[3];\r\n\r\napp.use((req, res, next) => {\r\n    res.setHeader('Cross-Origin-Embedder-Policy', 'require-corp');\r\n    res.setHeader('Cross-Origin-Opener-Policy', 'same-origin');\r\n    next()\r\n})\r\n\r\n// src/public/home/index.html\r\n// 8082\r\nconst port = 8082\r\nconst bundler = new Bundler(bundlePath);\r\n\r\napp.use(bundler.middleware());\r\n// app.use(router)\r\n\r\nconst server = http.createServer(app);\r\nserver.listen(port);\r\n\r\nserver.on('error', (err) => console.error(err));\r\nserver.on('listening', () => {\r\n    console.info('Server is running');\r\n    console.info(`  NODE_ENV=[${process.env.NODE_ENV}]`);\r\n    console.info(`  Port=[${port}]`);\r\n    open(`http://localhost:${port}`);\r\n});\r\n"]}